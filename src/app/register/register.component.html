<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="card shadow-sm p-4" style="width: 380px; border-radius: 12px;">

    <div class="text-center mb-4">
      <h2 class="fw-bold" style="color: #003366;">Registrazione</h2>
      <small class="text-muted">Compila i campi per creare il tuo account</small>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <!-- Nome -->
      <div class="mb-3">
        <label for="nome" class="form-label fw-semibold">Nome</label>
        <input
          id="nome"
          type="text"
          formControlName="nome"
          class="form-control rounded-pill"
          [class.is-invalid]="submitted && f['nome'].invalid"
          placeholder="Inserisci il tuo nome"
        />
        <div *ngIf="submitted && f['nome'].errors" class="invalid-feedback ps-3">
          Nome Ã¨ obbligatorio.
        </div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label fw-semibold">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          class="form-control rounded-pill"
          [class.is-invalid]="submitted && f['email'].invalid"
          placeholder="esempio@dominio.com"
        />
        <div *ngIf="submitted && f['email'].errors" class="invalid-feedback ps-3">
          <div *ngIf="f['email'].errors?.['required']">Email obbligatoria.</div>
          <div *ngIf="f['email'].errors?.['email']">Formato email non valido.</div>
        </div>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label for="password" class="form-label fw-semibold">Password</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          class="form-control rounded-pill"
          [class.is-invalid]="submitted && f['password'].invalid"
          placeholder="Minimo 8 caratteri"
        />
        <div *ngIf="submitted && f['password'].errors" class="invalid-feedback ps-3">
          <div *ngIf="f['password'].errors?.['required']">Password obbligatoria.</div>
          <div *ngIf="f['password'].errors?.['minlength']">Minimo 8 caratteri.</div>
        </div>
      </div>

      <!-- Conferma Password -->
      <div class="mb-3">
        <label for="confermaPassword" class="form-label fw-semibold">Conferma Password</label>
        <input
          id="confermaPassword"
          type="password"
          formControlName="confermaPassword"
          class="form-control rounded-pill"
          [class.is-invalid]="submitted && (f['confermaPassword'].invalid || registerForm.errors?.['passwordMismatch'])"
          placeholder="Reinserisci la password"
        />
        <div
          *ngIf="submitted && (f['confermaPassword'].errors || registerForm.errors?.['passwordMismatch'])"
          class="invalid-feedback ps-3"
        >
          <div *ngIf="f['confermaPassword'].errors?.['required']">Conferma password obbligatoria.</div>
          <div *ngIf="registerForm.errors?.['passwordMismatch']">Le password non corrispondono.</div>
        </div>
      </div>

      <!-- Pulsante -->
      <button type="submit" style="background-color: #003366; color: white; border: none;" class="w-100 py-2 rounded-pill fw-se">
        Registrati
</button>
    </form>

    <!-- Messaggi -->
    <ngb-alert *ngIf="successMessage" type="success" [dismissible]="false" class="mt-4">
      {{ successMessage }}
    </ngb-alert>

    <ngb-alert *ngIf="errorMessage" type="danger" [dismissible]="false" class="mt-4">
      {{ errorMessage }}
    </ngb-alert>

  </div>
</div>
